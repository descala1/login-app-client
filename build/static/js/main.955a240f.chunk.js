(this["webpackJsonplogin-app"]=this["webpackJsonplogin-app"]||[]).push([[0],{25:function(e,t,a){e.exports=a(39)},30:function(e,t,a){},31:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(6),i=a.n(s),c=a(42),l=(a(30),a(31),a(32),a(5)),o=Object(l.a)(),u=a(4),m=a.n(u),d=a(10),p=a(13),E=a(14),g=a(7),h=a(16),b=a(15),v=a(8),f=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).url?Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).url:"http://localhost:5000",S=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;return Object(p.a)(this,a),(e=t.call(this)).handleSubmit=function(){var t=Object(d.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=Object(g.a)(e),console.log(n.state.username),console.log(n.state.password),t.next=6,e.sendLoginData(n.state.username,n.state.password);case 6:"SUCCESS"===t.sent?e.setState({redirect:"/home"}):e.error();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.error=function(){v.b.error("Login attempt failed.")},e.sendLoginData=function(){var e=Object(d.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"query login($un: String!, $pw: String!) {\n            login(un: $un, pw: $pw)\n        }",e.next=3,fetch(f,{method:"POST",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify({query:"query login($un: String!, $pw: String!) {\n            login(un: $un, pw: $pw)\n        }",variables:{un:t,pw:a}})});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r.data.login);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),e.unChange=function(t){e.setState({username:t.target.value})},e.pwChange=function(t){e.setState({password:t.target.value})},e.state={username:"",password:"",redirect:"/"},e.handleSubmit=e.handleSubmit.bind(Object(g.a)(e)),e}return Object(E.a)(a,[{key:"render",value:function(){return"/home"===this.state.redirect?r.a.createElement(c.a,{to:this.state.redirect}):r.a.createElement("div",{className:"container",id:"LoginFields"},r.a.createElement(v.a,{position:"top-center",toastClassName:"warning"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h4",null,"LOGIN TO MY SITE"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 .offset-md-4 justify-content-center"},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Username")),r.a.createElement("input",{type:"text",className:"form-control","aria-label":"Default","aria-describedby":"inputGroup-sizing-default",username:this.state.username,onChange:this.unChange})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 .offset-md-4 justify-content-center"},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Password")),r.a.createElement("input",{type:"password",className:"form-control","aria-label":"Default","aria-describedby":"inputGroup-sizing-default",password:this.state.password,onChange:this.pwChange})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-7"},r.a.createElement("button",{type:"button",onClick:this.handleSubmit,className:"btn btn-primary"},"Login")),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("a",{className:"nav-link",href:"/register"},"Register",r.a.createElement("span",{className:"sr-only"},"(current)")))))}}]),a}(n.Component),O=a(24),w=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).url?Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).url:"http://localhost:5000",N=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;return Object(p.a)(this,a),(e=t.call(this)).handleSubmit=function(){var t=Object(d.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),(n=Object(g.a)(e)).state.password1===n.state.password2){t.next=5;break}return e.setState({errormessage:"Passwords do not match"}),t.abrupt("return");case 5:return t.next=7,e.sendRegistrationData(n.state.name,n.state.username,n.state.email,n.state.password1);case 7:"SUCCESS"===t.sent.data.register?e.success():e.error();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.error=function(){v.b.error("Attempt to register failed.")},e.success=function(){v.b.success("Registration succeeded.")},e.changeHandler=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(O.a)({},a,n))},e.sendRegistrationData=function(){var e=Object(d.a)(m.a.mark((function e(t,a,n,r){var s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"mutation register($name: String!, $un: String!, $email: String!, $pw: String!) {\n            register(name: $name, un: $un, email: $email, pw: $pw)\n        }",e.next=3,fetch(w,{method:"POST",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify({query:"mutation register($name: String!, $un: String!, $email: String!, $pw: String!) {\n            register(name: $name, un: $un, email: $email, pw: $pw)\n        }",variables:{name:t,un:a,email:n,pw:r}})});case 3:return s=e.sent,e.next=6,s.json();case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),e.state={name:"",username:"",password1:"",password2:"",email:""},e.handleSubmit=e.handleSubmit.bind(Object(g.a)(e)),e}return Object(E.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container",id:"LoginFields"},r.a.createElement(v.a,null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h4",null,"REGISTER FOR MY SITE"))),r.a.createElement("div",{className:"RegisterBackground"},r.a.createElement("form",null,r.a.createElement("input",{id:"register",type:"text",placeholder:"name",name:"name",onChange:this.changeHandler}),r.a.createElement("br",null),r.a.createElement("input",{id:"register",type:"text",placeholder:"username",name:"username",onChange:this.changeHandler}),r.a.createElement("br",null),r.a.createElement("input",{id:"register",type:"text",placeholder:"Email",name:"email",onChange:this.changeHandler}),r.a.createElement("br",null),r.a.createElement("input",{id:"register",type:"text",name:"password1",placeholder:"Enter password",onChange:this.changeHandler}),r.a.createElement("br",null),r.a.createElement("input",{id:"register",type:"text",placeholder:"Re-enter password",name:"password2",onChange:this.changeHandler}),this.state.errormessage,r.a.createElement("br",null))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-7"},r.a.createElement("button",{type:"button",onClick:this.handleSubmit,className:"btn btn-primary"},"Register")),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("a",{className:"nav-link",href:"/"},"Back to Login",r.a.createElement("span",{className:"sr-only"},"(current)")))))}}]),a}(n.Component),y=function(){return r.a.createElement("div",{className:"container",style:{padding:"50px"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h2",null,"You Are Logged In ",r.a.createElement("i",{className:"fa fa-check-circle-o"})),r.a.createElement("p",{style:{padding:"25px"}},"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),r.a.createElement("a",{href:"/",className:"btn btn-primary btn-sm"},"Logout"))))};var C=function(){return r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/",exact:!0,component:S}),r.a.createElement(c.b,{path:"/register",component:N}),r.a.createElement(c.b,{path:"/home",component:y}))},_=function(){return r.a.createElement("nav",{className:"navbar navbar-dark bg-primary"},r.a.createElement("a",{className:"navbar-brand",href:"/"},"Daniel Escalante"))};var j=function(){return r.a.createElement(c.c,{history:o},r.a.createElement(_,null),r.a.createElement(C,null))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.955a240f.chunk.js.map